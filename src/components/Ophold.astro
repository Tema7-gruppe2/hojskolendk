---
const destinationOptions = [
  { value: "asia-oceania-1", label: "Maldiverne, Sri Lanka, Bali, Gili Islands, Japan & Australien", img: "/images/verdenskort.webp" },
  { value: "asia-oceania-2", label: "Maldiverne, Sri Lanka, Bali, Gili Islands, Japan & Australien", img: "/images/verdenskort.webp" },
  { value: "asia-oceania-3", label: "Maldiverne, Sri Lanka, Bali, Gili Islands, Japan & Australien", img: "/images/verdenskort.webp" },
  { value: "asia-oceania-4", label: "Maldiverne, Sri Lanka, Bali, Gili Islands, Japan & Australien", img: "/images/verdenskort.webp" },
  { value: "asia-oceania-5", label: "Maldiverne, Sri Lanka, Bali, Gili Islands, Japan & Australien", img: "/images/verdenskort.webp" },
  { value: "asia-oceania-6", label: "Maldiverne, Sri Lanka, Bali, Gili Islands, Japan & Australien", img: "/images/verdenskort.webp" },
];
// RegistrationStep2.astro
// En ren Astro-component (ingen framework) der matcher layoutet i billedet.
const {
  step = 1,
  totalSteps = 3,
  title = "Online infomøde",
  heading = "Tilmelding",
} = Astro.props;

const progressPct = Math.round((step / totalSteps) * 100);
---

<section class="wrap">
  <div class="card" role="region" aria-label="Tilmelding">
    <p class="kicker">{title}</p>
    <h1 class="h1">{heading}</h1>

    <div class="step" aria-label={`Trin ${step} af ${totalSteps}`}>
      <span>Trin {step} af {totalSteps}</span>
    </div>

    <div class="progress" role="progressbar" aria-valuenow={progressPct} aria-valuemin="0" aria-valuemax="100">
      <div class="bar" style={`width:${progressPct}%`}></div>
    </div>

  <div class="signup__divider" aria-hidden="true"></div>

  <form class="signup__form" action="/tilmelding/trin-2" method="get">
    <fieldset class="signup__fieldset">
      <legend class="signup__legend">Hvilken slags ophold vil du på?</legend>

      <div class="signup__radios">
        <label class="radio">
          <input type="radio" name="opholdType" value="hoejskole" />
          <span>Højskole</span>
        </label>

        <label class="radio">
          <input type="radio" name="opholdType" value="sommerhoejskole" checked />
          <span>Sommerhøjskole</span>
        </label>
      </div>
    </fieldset>

    <fieldset class="signup__fieldset signup__fieldset--spaced">
      <legend class="signup__legend">Hvor er du interesseret i at tage hen?</legend>

      <div class="destinations" role="radiogroup" aria-label="Vælg destination">
        {destinationOptions.map((o) => (
          <label class="destination">
            <input class="destination__input" type="radio" name="destination" value={o.value} />
            <span class="destination__card" aria-hidden="true">
              <span class="destination__imageWrap">
                <img class="destination__image" src={o.img} alt="" loading="lazy" />
              </span>
              <span class="destination__text">{o.label}</span>
            </span>
          </label>
        ))}
      </div>
    </fieldset>

    <div class="signup__actions">
      <a class="signup__next" href="/trin2">Næste</a>
    </div>
  </form>

  <style>
      :global(body) {
    margin: 0;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    background: #fff;
    color: #0b0f18;
  }

  .wrap {
    min-height: 70vh;
    display: grid;
    place-items: center;
    padding: 32px 16px;
  }

  .card {
    width: min(720px, 100%);
    background: #fff;
    text-align: center;
  }

  .kicker {
    margin: 0 0 8px;
    font-size: 12px;
    font-weight: 700;
    color: var(--cta-primary);
    letter-spacing: 0.02em;
  }

  .h1 {
    margin: 0 0 18px;
    font-size: 50px;
    line-height: 1.05;
    font-weight: 900;
  }

  .step {
    font-size: 12px;
    font-weight: 700;
    color: #0b0f18;
    margin-bottom: 10px;
  }

  .progress {
    width: min(360px, 100%);
    height: 6px;
    background: #d9d9d9;
    border-radius: 999px;
    margin: 0 auto 22px;
    overflow: hidden;
  }

  .bar {
    height: 100%;
    background: var(--cta-primary);
    border-radius: 999px;
  }

  .form {
    border-top: 1px solid #d9d9d9;
    padding-top: 22px;
    margin-top: 6px;
  }

    .signup__divider {
      height: 2px;
      background-color: rgb(0, 0, 0);
      margin: 20px 0 36px;
      opacity: 0.2;
    }

    .signup__form {
      max-width: 640px;
      margin: 0 auto;
    }

    .signup__fieldset {
      border: 0;
      padding: 0;
      margin: 0;
    }

    .signup__fieldset--spaced {
      margin-top: 22px;
    }

    .signup__legend {
      font-weight: 800;
      margin-bottom: 12px;
      font-size: 14px;
    }

    .signup__radios {
      display: flex;
      gap: 22px;
      align-items: center;
    }

    .radio {
      display: inline-flex;
      gap: 8px;
      align-items: center;
      font-size: 13px;
      color: #111;
      user-select: none;
      cursor: pointer;
    }

    .radio input {
      accent-color: #c85a12;
    }

    /* Destination cards (clickable radios) */
    .destinations {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 22px;
    }

    .destination {
      cursor: pointer;
      user-select: none;
    }

    .destination__input {
      position: absolute;
      opacity: 0;
      pointer-events: none;
    }

    .destination__card {
      display: grid;
      gap: 10px;
      padding: 0;
    }

    .destination__imageWrap {
      border: 1.5px solid #bdbdbd;
      border-radius: 10px;
      overflow: hidden;
      background: #fff;
      aspect-ratio: 1 / 1; /* square like screenshot */
      display: grid;
      place-items: center;
    }

    .destination__image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .destination__text {
      font-size: 9px;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: #000000;
      line-height: 1.25;
      font-family: var(--font-secondary);
    }

    /* Selected + hover border */
    .destination__input:checked + .destination__card .destination__imageWrap {
      border-color: #c85a12;
      box-shadow: 0 0 0 2px rgba(200, 90, 18, 0.18);
    }

    .destination:hover .destination__imageWrap {
      border-color: #9a9a9a;
    }

    .signup__actions {
      margin-top: 28px;
      display: flex;
      justify-content: flex-end;
    }

    .signup__next {
    min-width: 110px;
    height: 34px;
    border-radius: 3px;
    font-weight: 700;
    font-size: 12px;
    border: 0;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    background-color: var(--cta-primary);
    color: white;
    }

    .signup__next:hover {
      transform: translateY(-1px);
    }

    @media (max-width: 720px) {
      .destinations {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 460px) {
      .destinations {
        grid-template-columns: 1fr;
      }
      .signup__radios {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
      }
    }
  </style>
</section>
